
# Función para hacer un 'source'.
function zsh_add_file() {
    [ -f "$ZDOTDIR/$1" ] && source "$ZDOTDIR/$1"
}

install_nerd_font() {
  local FONT_NAME="$1"
  local FONT_DIR="${XDG_DATA_HOME:-$HOME/.local/share}/fonts/${FONT_NAME}"

  # Si la fuente ya existe, salir
  if fc-list | grep -qi "$FONT_NAME"; then
      return
  fi

  # Crear carpeta temporal segura
  local tempdir
  tempdir=$(mktemp -d)
  trap "rm -rf $tempdir" EXIT

  echo "   Descargando '$FONT_NAME Nerd Font'..."
  mkdir -p "$FONT_DIR"

  # Descargar la fuente desde el release oficial
  curl -fLo "$tempdir/${FONT_NAME}.zip" \
    "https://github.com/ryanoasis/nerd-fonts/releases/latest/download/${FONT_NAME}.zip" 

  # Extraer directamente a la carpeta de fuentes
  unzip -o "$tempdir/${FONT_NAME}.zip" -d "$FONT_DIR" >/dev/null

  # Actualizar caché
  fc-cache -fv >/dev/null

  echo "  Fuente '$FONT_NAME Nerd Font' instalada correctamente."
}
